<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>使用hexo搭建blog边做边记 | @sunnyxx</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="og:type" content="blog">
<meta name="og:title" content="使用hexo搭建blog边做边记">
<meta name="og:url" content="http://blog.sunnyxx.com/2014/02/27/mac下使用hexo搭建blog/">
<meta name="og:image" content="http://ww2.sinaimg.cn/large/51530583gw1ee18d6ak6yj208c08ydg6.jpg">
<meta name="og:site_name" content="@sunnyxx">
<meta name="og:description" content="Install
安装nvm（Node Version Manager），Terminal中运行
$ curl https://raw.github.com/creationix/nvm/master/install.sh | sh
会提示：
=&gt; Close and reopen your terminal to start using NVM
退出Terminal重启后nvm命令才能生效。">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="@sunnyxx" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
<!--     <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">@sunnyxx</a>
      </h1>
      
    </div> -->
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://blog.sunnyxx.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-mac下使用hexo搭建blog" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/02/27/mac下使用hexo搭建blog/" class="article-date">
  <time datetime="2014-02-27T06:56:47.000Z" itemprop="datePublished">Feb 27 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      使用hexo搭建blog边做边记
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="install">Install</h1>
<p><strong>安装nvm（Node Version Manager）</strong>，Terminal中运行</p>
<pre><code>$ curl https://raw.github.com/creationix/nvm/master/install.sh | sh
</code></pre><p>会提示：</p>
<pre><code>=&gt; Close and reopen your terminal to start using NVM
</code></pre><p>退出Terminal重启后nvm命令才能生效。  使用nvm安装node.js：
<a id="more"></a> 
    $ nvm install 0.10
下完后安装hexo，这一步时间比较长：</p>
<pre><code>$ npm install -g hexo
</code></pre><p>然后找个文件初始化blog：</p>
<pre><code>$ cd ~/git/blog  
$ hexo init .
$ ls
</code></pre><p>生成出的目录结构：</p>
<pre><code>.
├── _config.yml
├── package.json
├── scaffolds
├── scripts
├── source
|   ├── _drafts
|   └── _posts
└── themes
</code></pre><p>新建一篇文章：</p>
<pre><code>$ hexo new mac下使用hexo搭建blog
</code></pre><p>$ open source/_posts/mac下使用hexo搭建blog.md 
编辑md后生成html：</p>
<pre><code>$ hexo generate
</code></pre><p>本地预览：</p>
<pre><code>$ hexo server
=&gt; [info] Hexo is running at localhost:4000/. Press Ctrl+C to stop.
</code></pre><p>Theme，去官方提供的<a href="https://github.com/tommy351/hexo/wiki/Themes" target="_blank">主题列表</a>中选个现成的，按照里面的方法pull下来，如light主题</p>
<pre><code>$ git clone git://github.com/tommy351/hexo-theme-light.git themes/light
</code></pre><p>_config.yml配置文件中设置：</p>
<pre><code>theme: light
</code></pre><p>重新generate和server预览，就看到变化了。</p>
<h2 id="deploy">deploy</h2>
<p>github上建个respository，设置里设一下
在<code>_config.yml</code>中：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="label">deploy:</span>
<span class="label">type:</span> github
<span class="label">repository:</span> https://github<span class="preprocessor">.com</span>/sunnyxx/blog-hexo<span class="preprocessor">.git</span>
</pre></td></tr></table></figure>

<p>然后执行：</p>
<pre><code>$ hexo deploy
</code></pre><p>就行了，github会多一个branch，比octopress简单</p>
<h2 id="-">绑定域名</h2>
<p>去万网买了这个域名<code>sunnyxx.com</code>，以<code>blog.sunnyxx.com</code>作为博客的域名，
看万网是阿里的才从那儿买的，后来发现<code>DNSPod</code>貌似比较好，万网的后台做的那叫一个*，但愿解析速度上别再不行就行。
托管在github上，首先建一个CNAME文件，里面写<code>最终指向</code>的域名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>$ blog.sunnyxx.com &gt; public/CNAME
</pre></td></tr></table></figure>

<p>然后去域名后台配置下，由于github表示说我托管的页面的域名是：<code>sunnyxx.github.io</code>
所以建一个CNAME记录，将<code>blog.sunnyxx.com</code>解析到<code>sunnyxx.github.io</code>
DNS域名解析最常用的是<strong>A记录</strong>和<strong>CNAME记录</strong>，A记录把域名解析到服务器IP，CNAME相当于把一个域名指向另一个域名，因此我这个用的是CNAME，要是托管的服务器也是自己搭的那就用A记录了。
完事之后得等一段时间（DNSPod说几秒内就同步完，要是这样真心是它好）
使用下面的命令测一下域名的解析</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre>$ dig blog.sunnyxx.com +nostats +nocomments +nocmd

=&gt; output:
;; global options: +cmd
;blog.sunnyxx.com.      IN  A
blog.sunnyxx.com.   <span class="number">1778</span>    IN  CNAME   sunnyxx.github.io.
sunnyxx.github.io.  <span class="number">1778</span>    IN  CNAME   github.map.fastly.net.
github.map.fastly.net.  <span class="number">30</span>  IN  A   <span class="number">103.245</span>.<span class="number">222.133</span>
</pre></td></tr></table></figure>

<p>这说明是成功了，发现解析过程是<code>blog.sunnyxx.com</code>-&gt;<code>sunnyxx.github.io</code>-&gt;<code>github.map.fastly.net</code>-&gt;<code>103.245.222.133</code> 最终指向了github的web server
由于国内GreatWall，解析速度明显不稳定，有时候都连不上，以后再看怎么办吧</p>
<h2 id="-sitemap">添加sitemap</h2>
<p>同样的，我们使用hexo提供的插件，方法与添加RSS类似。
安装sitemap到本地：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>npm install hexo<span class="attribute">-generator</span><span class="attribute">-sitemap</span>
</pre></td></tr></table></figure>

<p>开启sitemap功能：编辑hexo/_config.yml，添加如下代码：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>plugins:
<span class="subst">-</span> hexo<span class="attribute">-generator</span><span class="attribute">-sitemap</span>
</pre></td></tr></table></figure>

<p>访问zipperary/sitemap.xml即可看到站点地图。不过，sitemap的初衷是给搜索引擎看的，为了提高搜索引擎对自己站点的收录效果，我们最好手动到google和百度等搜索引擎提交sitemap.xml。</p>
<h2 id="-">文章中插入图片</h2>
<p>原来用octopress写的时候在目录下面建个<code>images</code>目录来保存图片，引用时使用了相对路径就行了，但这是让我最蛋疼的事，想发个图片还得命个名，然后<code>mv</code>过去，再引进来，特别墨迹。hexo中当然也可以用这种方法，但是发现使用个<code>图床</code>来搞定图片真是一劳永逸了。</p>
<p><strong>微博图床</strong>，地址<a href="http://weibotuchuang.sinaapp.com/，我是chrome用户，所以下了个他的插件，装完了点开发现直接把图片拖进去就行了：" target="_blank">http://weibotuchuang.sinaapp.com/，我是chrome用户，所以下了个他的插件，装完了点开发现直接把图片拖进去就行了：</a>
<img src="http://ww2.sinaimg.cn/large/51530583gw1ee18d6ak6yj208c08ydg6.jpg" alt="enter image description here">
生成的地址直接用就行了
有时候需要使用QQ截屏，只要随便截到某个人的聊天窗口里面，不用发送，然后直接拖拽到这个小窗口里面就OK了。</p>
<blockquote>
<p>Life saver.</p>
</blockquote>
<p>PS：gif也没问题
<img src="http://ww2.sinaimg.cn/large/51530583gw1ee17y3p11zg207804lnhh.gif" alt="1231231"></p>
<h2 id="stackedit-markdown-">StackEdit - 超赞的Markdown在线编辑器</h2>
<p><img src="http://ww2.sinaimg.cn/large/51530583gw1ee1a7efwa0j20hk03kwen.jpg" width="500px" /></p>
<p>界面干净，所见即所得，支持同步到<code>Dropbox</code>和<code>github</code>，这个特别好，比如在公司写了点东西就可以一键同步，保留犯罪现场，回来之后继续写剩下的。</p>
<h2 id="-">遇到的问题</h2>
<p>第二次用的时候发现安装的hexo命令找不到了，重新use一下：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="variable">$ </span>nvm use <span class="number">0</span>.<span class="number">10</span>
</pre></td></tr></table></figure>

<p><strong>使用StackEdit时改变图片大小</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="tag">&lt;<span class="title">img</span> <span class="attribute">src</span>=<span class="value">"http://ww2.sinaimg.cn/large/51530583gw1ee1a7efwa0j20hk03kwen.jpg"</span> <span class="attribute">width</span>=<span class="value">"200px align="</span><span class="value">center"</span> /&gt;</span>
</pre></td></tr></table></figure>

<p>效果：
  <img src="http://ww2.sinaimg.cn/large/51530583gw1ee1a7efwa0j20hk03kwen.jpg" width="200px" /></p>
<h2 id="-">添加友情链接</h2>
<p><code>themes/xxxxxx/layout/_widget/blogroll.ejs</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"widget tag"</span>&gt;</span>
<span class="tag">&lt;<span class="title">h3</span> <span class="attribute">class</span>=<span class="value">"title"</span>&gt;</span>友情链接<span class="tag">&lt;/<span class="title">h3</span>&gt;</span>
<span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"entry"</span>&gt;</span>
<span class="tag">&lt;<span class="title">li</span>&gt;</span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"http://zhouxl.github.io"</span> <span class="attribute">title</span>=<span class="value">"小六"</span>&gt;</span>小六的博客<span class="tag">&lt;/<span class="title">a</span>&gt;</span><span class="tag">&lt;/<span class="title">li</span>&gt;</span>
<span class="tag">&lt;/<span class="title">ul</span>&gt;</span>
<span class="tag">&lt;/<span class="title">div</span>&gt;</span>
</pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.sunnyxx.com/2014/02/27/mac下使用hexo搭建blog/" data-id="iydgsknsxyledn9n" class="article-share-link">Share</a>
      
        <a href="http://blog.sunnyxx.com/2014/02/27/mac下使用hexo搭建blog/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/03/05/objc_category_secret/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          objc category的秘密
        
      </div>
    </a>
  
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reactive Cocoa Tutorial/">Reactive Cocoa Tutorial</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Reactive Cocoa Tutorial/" style="font-size: 20.00px;">Reactive Cocoa Tutorial</a><a href="/tags/hexo/" style="font-size: 10.00px;">hexo</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03">March 2014</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02">February 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/03/07/hexo_customize/">hexo的私人订制</a>
          </li>
        
          <li>
            <a href="/2014/03/06/ios_exam_0/">ios6级考试-基础</a>
          </li>
        
          <li>
            <a href="/2014/03/06/rac_3_racsignal/">Reactive Cocoa Tutorial [3] = &quot;RACSignal的巧克力工厂“;</a>
          </li>
        
          <li>
            <a href="/2014/03/06/rac_2_racstream/">Reactive Cocoa Tutorial [2] = &quot;百变RACStream&quot;;</a>
          </li>
        
          <li>
            <a href="/2014/03/06/rac_1_macros/">Reactive Cocoa Tutorial [1] = &quot;神奇的Macros&quot;;</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 sunnyxx<br>
      Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'sunyuan1713';
  
  var disqus_url = 'http://blog.sunnyxx.com/2014/02/27/mac下使用hexo搭建blog/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script type="text/javascript" src="/js/script.js"></script>
  </div>
</body>
</html>